<!doctype html>
<html amp lang="en">

<head>
    <meta charset="utf-8">
    <title>AMP Phone Direction</title>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-script" src="https://cdn.ampproject.org/v0/amp-script-0.1.js"></script>
    <style amp-custom>
        /* Your custom styles here */
    </style>
</head>

<body>
    <div id="compassDirection"></div>
    <div id="scene-heading" scene-heading></div>

    <amp-script layout="fixed-height" height="200" script="live-blog-script" class="sample" sandbox="allow-forms">
      <button id="live-blog-start">Start live blog</button>
      <div id="live-blog-area"></div>
    </amp-script>
    
    <script id="live-blog-script" type="text/plain" target="amp-script">
      const button = document.getElementById('live-blog-start');
      const blogDiv = document.getElementById('live-blog-area');
    
      button.addEventListener("click", () => {
        button.setAttribute('disabled', '');
        button.textContent = 'Live blog begun';
        const socket = new WebSocket('wss://amp.dev/documentation/examples/api/socket/live-blog');
    
        socket.onmessage = event => {
          let newDiv = document.createElement('div');
          let time = new Date().toLocaleTimeString();
          newDiv.innerHTML = `<span class="time">${time}: </span><span>${event.data}</span>`;
          blogDiv.appendChild(newDiv);
        };
      });
    </script>
 
</body>

</html>




